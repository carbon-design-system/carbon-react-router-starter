/**
 * Copyright IBM Corp. 2025
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */

@use '@carbon/react/scss/spacing' as *;
@use '@carbon/react/scss/type' as *;
@use '@carbon/react/scss/breakpoint' as *;
@use '@carbon/react/scss/theme' as *;

@mixin carbon-content-overrides() {
  // These Carbon overrides are pending outcome of issue #19877
  // https://github.com/carbon-design-system/carbon/issues/19877

  :where(.cds--side-nav ~ .cds--content) {
    // Where used to allow padding to be overridden later
    padding: 0;
  }

  .cds--side-nav ~ .cds--content {
    /* stylelint-disable-next-line carbon/layout-use -- temporary fix pending Content component updates */
    margin-inline-start: 16rem;

    @include breakpoint-down('lg') {
      margin-inline-start: 0;
    }
  }

  .cds--side-nav--hidden ~ .cds--content {
    margin-inline-start: 0;
  }

  .cds--side-nav--rail ~ .cds--content {
    margin-inline: $spacing-09;
  }
}

.cs--page-layout {
  @include carbon-content-overrides;
}

@mixin default-project-type() {
  * {
    /* 
    text-wrap-style: balance aims to improve typography by creating more visually appealing text blocks. 
    When text is balanced, the browser attempts to distribute text more evenly across lines, 
    avoiding situations where you have very long lines followed by very short lines (orphans).
    */
    text-wrap-style: balance;
  }

  h1,
  dd {
    @include type-style('heading-07');

    margin-block-end: $spacing-08;
  }

  h3 {
    margin-block-end: $spacing-05;
  }

  p,
  dt {
    margin-block-end: $spacing-05;
    margin-inline-end: $spacing-08;
  }

  dt {
    @include type-style('label-02');
  }
}

:where(.cs--page-layout-content) {
  // low specificity to make it easier to override defaults
  @include default-type;

  // after Carbon default type
  @include default-project-type;
}

.cs--page-layout-content {
  // These following styles size the content area and move the scroll
  // from the body to this content area
  block-size: calc(100vh - $spacing-09);
  max-block-size: calc(100vh - $spacing-08);
  padding-block-start: $spacing-05;

  /* 
  This is our main content area for which we should ensure all of our content is displayed 
  within the vertical scrolling area. 
  
  If you desire horizontal and vertical scrolling, such as within a diagramming component/canvas, 
  you should manage scrolling withing the component/canvas. 
  */
  overflow: hidden auto; /* no horizontal scroll, vertical only unless manged elsewhere */
  scrollbar-gutter: stable; /* ensure we do not jump on scroll bar appearance */
  scrollbar-color: $background-active $layer;
}
